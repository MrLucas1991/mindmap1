import{ao as y,I as b,ap as N,T as S,W as L,an as x,aq as R,ad as m,i as D,j as g,k as O,ar as W,as as B,at as C,x as F,C as T,au as E,l as k,av as I,q as P,ai as j}from"./utils.CJAfLu7n.js";function H(a){var r=N,s=S;y(null),b(null);try{return a()}finally{y(r),b(s)}}const M=new Set,U=new Set;function Y(a,r,s,i){function t(e){if(i.capture||Z.call(r,e),!e.cancelBubble)return H(()=>s.call(this,e))}return a.startsWith("pointer")||a.startsWith("touch")||a==="wheel"?x(()=>{r.addEventListener(a,t,i)}):r.addEventListener(a,t,i),t}function G(a,r,s,i,t){var e={capture:i,passive:t},l=Y(a,r,s,e);(r===document.body||r===window||r===document)&&L(()=>{r.removeEventListener(a,l,e)})}function J(a){for(var r=0;r<a.length;r++)M.add(a[r]);for(var s of U)s(a)}function Z(a){var w;var r=this,s=r.ownerDocument,i=a.type,t=((w=a.composedPath)==null?void 0:w.call(a))||[],e=t[0]||a.target,l=0,_=a.__root;if(_){var f=t.indexOf(_);if(f!==-1&&(r===document||r===window)){a.__root=r;return}var d=t.indexOf(r);if(d===-1)return;f<=d&&(l=f)}if(e=t[l]||a.target,e!==r){R(a,"currentTarget",{configurable:!0,get(){return e||s}});var h=N,c=S;y(null),b(null);try{for(var n,u=[];e!==null;){var o=e.assignedSlot||e.parentNode||e.host||null;try{var v=e["__"+i];if(v!==void 0&&!e.disabled)if(m(v)){var[q,...A]=v;q.apply(e,[a,...A])}else v.call(e,a)}catch(p){n?u.push(p):n=p}if(a.cancelBubble||o===r||o===null)break;e=o}if(n){for(let p of u)queueMicrotask(()=>{throw p});throw n}}finally{a.__root=r,delete a.currentTarget,y(h),b(c)}}}function K(a,r,s=!1){g&&O();var i=a,t=null,e=null,l=j,_=s?W:0,f=!1;const d=(c,n=!0)=>{f=!0,h(n,c)},h=(c,n)=>{if(l===(l=c))return;let u=!1;if(g){const o=i.data===B;!!l===o&&(i=C(),F(i),T(!1),u=!0)}l?(t?E(t):n&&(t=k(()=>n(i))),e&&I(e,()=>{e=null})):(e?E(e):n&&(e=k(()=>n(i))),t&&I(t,()=>{t=null})),u&&T(!0)};D(()=>{f=!1,r(d),f||h(null,null)},_),g&&(i=P)}export{M as a,J as d,G as e,Z as h,K as i,U as r};
